
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

	<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />

	<title>手机充值、QQ充值、游戏充值 - 京东商城</title>

	<meta name="keywords" content="手机充值,话费充值,移动充值,联通充值,游戏充值,qq充值中心" />

	<meta name="description" content="京东商城充值频道为您提供中国移动、中国联通、中国电信话费充值服务，手机话费充值、QQ充值中心服务、游戏卡充值业务均可在线购买，网上充值上京东,放心又轻松！" />

	<style type="text/css">

	@charset "gb2312";

	html,body,div,span,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,address,big,cite,code,del,em,font,img,ins,small,strong,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend{margin:0;padding:0}ol,ul{list-style:none}:focus{outline:0}a img{border:0}img{vertical-align:middle}table{empty-cells:show}ins{text-decoration:none}del{text-decoration:line-through}em{font-style:normal}button::-moz-focus-inner,input[type="reset"]::-moz-focus-inner,input[type="button"]::-moz-focus-inner,input[type="submit"]::-moz-focus-inner,input[type="file"]>input[type="button"]::-moz-focus-inner{border:none;padding:0}.fl{float:left}.fr{float:right}.fn{float:none}.al{text-align:left}.ac{text-align:center}.ar{text-align:right}.clr{display:block;overflow:hidden;clear:both;height:0;line-height:0;font-size:0}.clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}.clearfix{display:inline-table}*html.clearfix{height:1%}.clearfix{display:block}*+html.clearfix{min-height:1%}.overflow{overflow:hidden}.form label,.form input,.form select,.form textarea,.form button,.form.label{float:left;font-size:12px}.block{display:block;overflow:hidden}.hide{display:none}.invisible{visibility:hidden}.tab{overflow:hidden;zoom:1}.tab li,.tab a,.tab-item{float:left;text-align:center}.btn-img,.button{display:inline-block;margin:0;padding:0;border:0;text-align:center;cursor:pointer}.btn-text{margin:0;padding:0;text-align:center;cursor:pointer}body{font:12px/150%Arial,Verdana,"\5b8b\4f53";color:#333;_background-image:url(about:blank);_background-attachment:fixed}h1{font:20px"microsoft yahei","\5b8b\4f53"}h2,h3{font-size:14px}h4,h5,h6{font-size:12px}a:link,a:visited{color:#333;text-decoration:none}a:hover{color:#C00;text-decoration:underline}a:active{color:#900}

	body{}

	ul{padding: 15px 0 0 0px;overflow: hidden;width: 320px}

	.sequ1{height: 70px;}

	.sequ2,.sequ3{height: 50px;}

	.tit{float: left;font-size: 18px;font-family: "microsoft yahei";width: 75px;font-weight: 500;height: 35px;line-height: 35px;  color:#007734;}

	select{float: left;}

	.fr{width: 240px;}

	.text{float: left;height: 30px;line-height: 30px;font-size: 18px;border: 1px solid #e6e6e6;width: 230px;margin-bottom: 5px;padding-left: 3px}

	 .mar{height: 24px;line-height: 24px;margin-right: 10px;}

	 select{height: 30px;line-height: 30px;width: 140px;}

	.hui{float: left;height: 30px;line-height: 30px;padding-left: 5px;color: #c00}

	.btn-buy{width: 130px;height: 45px;display: inline-block;background: url("skin/i/buy2.png");border: none;font-size: 0;overflow: hidden;line-height: 100px;cursor: pointer;}

	.disabled {background-position: 0 -110px;cursor: default;}

	.error{color:#c30;}

	.hui strong{font-size: 12px;}

	.mar{width: 75px;}

	</style>

</head>

<body>

	 <form action="" id="rechargePhone" method ="post" autocomplete ="off">

	<ul>

		<li class="sequ1">

			<div class="tit">手机号：</div>

			<div class="fr">

				<input type="text"  id="txtPn"  name="txtPn" class="text"  value="请输入手机号" maxlength="11"  style="color:#999"   onkeyup="LoadISPJSON()"  onblur="showDefault()"  onkeydown="return (event.keyCode!=13)" onfocus="clearDefault()"/>

				<span class="clr"></span>

				<span id="defaultMobileInfo" class="fore">

				支持移动、联通、电信

                </span>

				<span class="clr"></span>

			<span id="ISPmodi" class="hide">

				<select onchange="changeEverything()" class="mar" name="area" id="area">

					 <option value="-1"> 请选择</option>

					 <option value="1"> 北京</option>

					 <option value="2"> 上海</option>

					 <option value="3"> 天津</option>

					 <option value="4"> 重庆</option>

					 <option value="5"> 河北</option>

					 <option value="6"> 山西</option>

					 <option value="7"> 河南</option>

					 <option value="8"> 辽宁</option>

					 <option value="9"> 吉林</option>

					 <option value="10"> 黑龙江</option>

					 <option value="11"> 内蒙古</option>

					 <option value="12"> 江苏</option>

					 <option value="13"> 山东</option>

					 <option value="14"> 安徽</option>

					 <option value="15"> 浙江</option>

					 <option value="16"> 福建</option>

					 <option value="17"> 湖北</option>

					 <option value="18"> 湖南</option>

					 <option value="19"> 广东</option>

					 <option value="20"> 广西</option>

					 <option value="21"> 江西</option>

					 <option value="22"> 四川</option>

					 <option value="23"> 海南</option>

					 <option value="24"> 贵州</option>

					 <option value="25"> 云南</option>

					 <option value="26"> 西藏</option>

					 <option value="27"> 陕西</option>

					 <option value="28"> 甘肃</option>

					 <option value="29"> 青海</option>

					 <option value="30"> 宁夏</option>

					 <option value="31"> 新疆</option>

				</select>

				<select onchange="changeEverything()" class="mar" name="ISP" id="ISP">

					<option value="-1"> 请选择</option>

					<option value="0"> 联通</option>

					<option value="1"> 移动</option>

					<option value="2"> 电信</option>

				</select>

			</span>

				<span class="clr"></span>

				<span id="errorSpan" class="hide">请确认号码归属地修改正确，否则会造成充值失败！</span>

			</div>

		</li>

		<li class="sequ2">

			<div class="tit">面&nbsp;&nbsp;&nbsp;值：</div>

			<div class="fr">

				<select  id="facePrice" name="facePrice"  onchange="changeEverything()">

    			<option value="10">10元</option>

                <option value="20">20元</option>			

    			<option value="30">30元</option>

                <option value="50">50元</option>

                <option value="100" selected="selected">100元</option>

                <option value="200">200元</option>

                <option value="300">300元</option>

                <option value="500">500元</option>

    		</select>

    		<span id="jdPrice"  class="hui"><strong>98.60-99.60</strong></span>

			</div>

		</li>

		<li class="sequ3">

			<div class="tit">&nbsp;</div>

			<div class="fr">

			    <input type="button" class="btn-buy " value="点击充值" id="submit"  onclick="submitPhone();try{window.parent.pageTracker._trackEvent('Button','TopUp','HomePage');}catch(err){}" />

			</div>

		</li>

	</ul>

</div>

<input type="hidden" value="" id="skuId"/>

</form>

</body>

</html>

<script type="text/javascript">

    //域名地址,线上改为:http://chongzhi.360buy.com

    var url = "";

    function PriceRange(price, facePrice) {

        this.price = price;

        this.facePrice = facePrice;

    }

    var priceRangeList = new Array();

    priceRangeList[0] = new PriceRange("10", "<strong>10.00</strong>");

	priceRangeList[1] = new PriceRange("20", "<strong>20.00</strong>");

    priceRangeList[2] = new PriceRange("50", "<strong>49.20-49.80</strong>");	

    priceRangeList[3] = new PriceRange("30", "<strong>29.65-30.13</strong>");

    priceRangeList[4] = new PriceRange("50", "<strong>49.20-49.80</strong>");

    priceRangeList[5] = new PriceRange("100", "<strong>98.60-99.60</strong>");

    priceRangeList[6] = new PriceRange("200", "<strong>197.0-199.0</strong>");

    priceRangeList[7] = new PriceRange("300", "<strong>295.5-298.5</strong>");

    priceRangeList[8] = new PriceRange("500", "<strong>492.5-496.5</strong>");

    //校验手机号

    var checkPhone = function(num) {

        if (num.length != 11) {

            return false;

        }

        var tel = /^(1)\d{10}$/;

        return  tel.test(num);

    };



    var xmlDoc = null, xmlhttp = null,xmlhttp2 = null;

    function InitXMLHttpRequest() {

        xmlhttp = window.XMLHttpRequest ? new window.XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHttp");

    }

    function InitXMLHttpRequest2() {

        xmlhttp2 = window.XMLHttpRequest ? new window.XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHttp");

    }



    function LoadISPJSON() {

        if (xmlhttp == null) {

            InitXMLHttpRequest();

        }

        if (xmlhttp == null) {

            alert("你的浏览器不支持 XMLHttpRequest");

            return false;

        }

        if (!checkPhone(document.getElementById("txtPn").value)) {

            var ISPmodi = document.getElementById("ISPmodi");

            var defaultMobileInfo = document.getElementById("defaultMobileInfo");

            defaultMobileInfo.className = "label error";

            ISPmodi.className = "hide";

            var ispspan = document.getElementById("defaultMobileInfo");

            ispspan.innerHTML = '请输入正确的手机号';

            var rsubmit = document.getElementById("submit");

            rsubmit.className = "btn-buy";

            rsubmit.disabled = false;

            changeEverything();

            return false;

        }

        xmlhttp.open("GET", url+"/json/order/search_searchPhone.action?mobile=" + document.getElementById("txtPn").value, false);

        xmlhttp.setRequestHeader("Content-Type", "text/plain");

        xmlhttp.onreadystatechange = GetISPJSONMessage;

        xmlhttp.send(null);

        if (xmlhttp.status == 200&&navigator.userAgent.indexOf("Firefox")>0) {

            xmlhttp.onreadystatechange = GetISPJSONMessage();

        }

    }

    function GetISPJSONMessage() {

        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {

            var jsonText = xmlhttp.responseText;

            if (jsonText == null || jsonText == "") {

                return;

            }

            var jsonObj = eval('(' + jsonText + ')');

            ShowInfo(jsonObj);

        }

    }



    function LoadSkuJSON() {

        if (xmlhttp2 == null) {

            InitXMLHttpRequest2();

        }

        if (xmlhttp2 == null) {

            alert("你的浏览器不支持 XMLHttpRequest");

            return;

        }

        xmlhttp2.open("GET", url+"/json/order/search_searchSkuId.action?faceValue=" + document.getElementById("facePrice").value+"&ISP="+document.getElementById("ISP").value+"&area="+document.getElementById("area").value+"&filltype=0", false);

        xmlhttp2.setRequestHeader("Content-Type", "text/plain");

        xmlhttp2.onreadystatechange = GetSkuJSONMessage;

        xmlhttp2.send(null);

        if (xmlhttp2.status == 200&&navigator.userAgent.indexOf("Firefox")>0) {

            xmlhttp2.onreadystatechange = GetSkuJSONMessage();

        }

    }

    function GetSkuJSONMessage() {

        if (!checkHtmlValue("facePrice,ISP,area,txtPn")) {

            return;

        }

        if (xmlhttp2.readyState == 4 && xmlhttp2.status == 200) {

            var skuJsonText = xmlhttp2.responseText;

            var rsubmit = document.getElementById("submit");

            if (skuJsonText == null || skuJsonText == "") {

                var jdPrice = document.getElementById("jdPrice");

                rsubmit.className = "btn-buy";

                rsubmit.disabled = true;

                jdPrice.innerHTML = "<strong>【暂无】</strong>";

                return;

            } else {

                rsubmit.className = "btn-buy";

                rsubmit.disabled = false;

            }



            rsubmit.disabled = false;

            var skuInfo = eval('(' + skuJsonText + ')');

            ShowSkuInfo(skuInfo);

        }

    }



    function checkHtmlValue(valueList){

        var list = valueList.split(",");

        for(var i = 0; i < list.length; i++){

             if(document.getElementById(list[i])==null||document.getElementById(list[i]).value==null||document.getElementById(list[i]).value==""){

                 return false;

             }

        }

        return true;

    }



    function ShowInfo(phoneInfo) {

        var ispspan = document.getElementById("defaultMobileInfo");

        var ISP = document.getElementById("ISP");

        var area = document.getElementById("area");

        if (phoneInfo.area == null || phoneInfo.provider == null) {

            ispspan.innerHTML = '未知地区和运营商&nbsp;<a id="modifyISP"  style="cursor:pointer;color:#005EA7" onclick=\"showIpsSelect()\">[修改]</a>';

            ISP.value = "-1";

            area.value = "-1";

        } else {

            ispspan.innerHTML =  phoneInfo.areaName + phoneInfo.providerName + "&nbsp;<a id=\"modifyISP\" class=\"fore\"  style=\"cursor:pointer;color:#005EA7\" onclick=\"showIpsSelect()\">[修改]</a>";

            ISP.value = phoneInfo.provider;

            area.value =  phoneInfo.area;

            changeEverything();

        }

    }



    function ShowSkuInfo(skuInfo){

        var jdPrice = document.getElementById("jdPrice");

        var skuId = document.getElementById("skuId");

        var rsubmit = document.getElementById("submit");

        if(skuInfo==null||skuInfo.skuId==null||skuInfo.frontJdPrice==null){

            rsubmit.className = "btn-buy";

            rsubmit.disabled=true;

            jdPrice.innerHTML="<strong>【暂无】</strong>";

            return;

        }else{

            rsubmit.className = "btn-buy";

            rsubmit.disabled = false;

        }

        skuId.value = skuInfo.skuId;

        jdPrice.innerHTML = "<strong>"+skuInfo.frontJdPrice+"元</strong>";

    }



    var showIpsSelect = function() {

        var ISPmodi = document.getElementById("ISPmodi");

        var defaultMobileInfo = document.getElementById("defaultMobileInfo");

        defaultMobileInfo.className = "hide";

        ISPmodi.className = "";

    };



    var changeEverything = function(){

        var ISP = document.getElementById("ISP");

        var area = document.getElementById("area");

        var facePrice = document.getElementById("facePrice");

        var txtPn = document.getElementById("txtPn").value;

        var jdPrice = document.getElementById("jdPrice");

        var skuId = document.getElementById("skuId");



        skuId.value="";

        if(!checkPhone(txtPn)){

            for (var i = 0; i < priceRangeList.length; i++) {

                if(priceRangeList[i].price == facePrice.value){

                  jdPrice.innerHTML=priceRangeList[i].facePrice;

                  return;

                }

            }

             return;

        }

        if (ISP == null || ISP.value == "-1" || area == null || area.value == "-1" || facePrice == null || facePrice.value == "") {

            return;

        }

        LoadSkuJSON();

    };



    var submitPhone = function(){

      if (!checkHtmlValue("facePrice,ISP,area,txtPn,skuId")) {

            var ispspan = document.getElementById("defaultMobileInfo");

            ispspan.className = "label error";

            ispspan.innerHTML = '请填写正确的充值信息';

            return;

        }

		var entryValue = 7;

        window.open(url+"/order/order_place.action?skuId="+document.getElementById("skuId").value+"&mobile="+document.getElementById("txtPn").value+"&entry="+entryValue) ;

    };



    var clearDefault = function(){

        if(document.getElementById("txtPn").value=="请输入手机号"){

          document.getElementById("txtPn").value = "";

          document.getElementById("txtPn").style.color="black";

        }

    } ;



    var showDefault = function(){

        if(document.getElementById("txtPn").value==null||document.getElementById("txtPn").value==""){

          document.getElementById("txtPn").value = "请输入手机号";

          document.getElementById("txtPn").style.color="#999";

        }

    }

    //根据cookie初始化手机号及面额  ---------start

    //读取cookie

    function getCookie(name) {

        var arg = name + "=";

        var alen = arg.length;

        var clen = document.cookie.length;

        var i = 0;

        var j = 0;

        while(i < clen) {

            j = i + alen;

            if(document.cookie.substring(i, j) == arg){

               return getCookieval_r(j);

            }

            i = document.cookie.indexOf(" ", i) + 1;

            if(i === 0){

               break;

            }

        }

        return '';

    }

    //获取cookie的值

    function getCookieval_r(offset) {

        var endstr = document.cookie.indexOf(";", offset);

        if(endstr == -1) {

            endstr = document.cookie.length;

        }

        return document.cookie.substring(offset, endstr);

    }



    function initPhoneAndPrice(){

        //读取cookie的值

        var cookieValue = getCookie("_creat_");

        if(cookieValue == "" || cookieValue.split(",").length != 2){

            document.getElementById("txtPn").value = "请输入手机号";

            document.getElementById("txtPn").style.color="#999";

            return;

        }else{

            var cookieValues = cookieValue.split(",");

            var phoneNos = cookieValues[1];

            var prices = cookieValues[0];

            if(phoneNos == null || prices == null || phoneNos == "" || prices == "" ||

                    phoneNos.split(":").length != 2 || prices.split(":").length != 2 ){

                document.getElementById("txtPn").value = "请输入手机号";

                document.getElementById("txtPn").style.color="#999";

                return;

            }

            var phoneNo = phoneNos.split(":")[1];

            var price = prices.split(":")[1];

            if(phoneNo == null || "null"==phoneNo || phoneNo == "" || price == null || "null"==price || price == ""){

                document.getElementById("txtPn").value = "请输入手机号";

                document.getElementById("txtPn").style.color="#999";

                return;

            }else{

                phoneNo = phoneNo.replace("\"","");

            }

            if(!checkPhone(phoneNo)){

                document.getElementById("txtPn").value = "请输入手机号";

                document.getElementById("txtPn").style.color="#999";

                return;

            }

            //初始化手机号

            document.getElementById("txtPn").value=phoneNo;

            document.getElementById("txtPn").style.color="black";

            //初始化面额

            setPrice(price);

            //加载手机面额相关数据

            LoadISPJSON();

        }

    }

    function setPrice(price){

        var obj;

        obj=document.getElementById("facePrice");

        if(obj!=null){

            for(var i=0;i<obj.length;i++){

                if(obj[i].value == price){

                    obj[i].selected=true;

                }

            }

        }

    }

    initPhoneAndPrice();

    //根据cookie初始化手机号及面额  ---------end

</script>